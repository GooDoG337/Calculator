# Калькулятор на С++
Данный код - реализация калькулятора с базовыми операциями (*,/,+,-) с соответствующим порядком выполнения операций.

## Использованные библиотеки
В данном проекте используются следующие библиотеки:
- **calculate.cpp** - собственная библиотека для данного проекта.
- **string** - стандартная библиотека, позволяющая использовать строки в библиотеке.
- **algorithm** - стандартная библиотека, позволяющая удобно стирать элементы (см. 218 строку файла calculate.cpp).
- **iostream** - стандартная библиотека, позволяющая вводить и выводить строки.
- **exception** - стандартная библиотека, позволяющая работать с exception

## Библиотека calculator.cpp
Данная библиотека была написана специально для данного проекта. Она включает в себя такие функции как: <br><br>
1.***RightValue(const std::string& expression, size_t& sign_indx)*** и ***LeftValue(const std::string& expression, size_t& sign_indx)***. Данные функции возвращают число справа или слева от знака операции (индекс этого знака находится в sign_indx) соответственно. После выполнения функции sign_indx указывает на начало левого числа или конец правого. Способны выдать данные exception:
- **WhereIsNum** - exception, говорящий о отсуствии числа справа/слева от знака операции соответственно. (555+)
- **WrongSymbol** - говорящий о неподходящем для выражении символа или неверного символа (4.4.4) или (a+444-b)
- **TooManySigns*** - говорящий о том, что некоторые знаки повторяются подряд (5****7)

2.***Validize(std::string& expression)*** - функция, позволяющая немного "поправлять" выражения, к примеру, если в выражении пробел между числами (5 7), или много пробелов (3      +7), а также заменить два подряд идущие минусы на плюсы (5--7--9). Способен выдавать следующие exception:
- **NoSigns** - говорит о том, что в выражении не найдены знаки операций.
- **EmptyExpression** - говорит о том, что выражение пустое.

3.***Calculate(std::string& expression)*** - главная функция, которая по очереди выполняет умножение, потом деление, затем сложение и в конце вычитание. Способен выдавать любой из вышеперечисленных exception, а также **DivideToZero**, если в выражении обнаружено деление на 0.

## Во время выполнения программы
### Вводные данные 
Данная программа запрашивает математическое выражение, включающее в себя числа и знаки операций (*,/,+,-). Данный процесс будет повторяться пока не будет совершен выход из программы. Для выхода из программы вместо выражения необходимо ввести __:q__. 

### Выводные данные
Данная программа выведет результат математического выражения, если оно введено верно. В обратном случае оно выведет причину, почему вычислить не удалось.

## Зависимости
Для компилирования данного проекта необходимы следующие программы:
- g++ (рекомендуемая версия **14.2.1** и выше)
- cmake (рекомендуемая версия **3.30.5** и выше)
- make (рекомендуемая версия **4.4.1** и выше)

## Сборка
Для сборки данного проекта необходимо ввести следующие команды в ваш терминал.
```git clone https://github.com/GooDoG337/Calculator.git
cd Calculator
cmake -S . -B "ваше название папки"
cd "ваше название папки"
make
```

## Запуск
После сборки в "ваше название папки" необходимо ввести следующую команду в терминал:<br>
`./Calculator`

## Тестирование 
Все тесты находятся в файле tests.cpp и работают на основе [doctest.h](https://github.com/doctest/doctest) - специальной библиотеки с открытым исходным кодом для тестирования. Данные тесты включают в себя:
- Простые примеры, такие как сумма двух чисел
- Подозрительные примеры, к примеру включающие в себя пробелы. Wolfram, с которого был взят пример поведения, в некоторых случаях заменяет пробелы на умножение. Или примеры, где числа записаны не до конца ( 6. или .35)
- Тесты на более сложных примерах, включающие в себя несколько операций
- Тесты на неверных данных, таких как пример, в котором число делится на нуль, а также пример с буквами
Для запуска тестов после сборки из "ваше название папки" необходимо запустить программу
`./Tests` 

